(()=>{(function(){function a(a,d,b,c){return isNaN(a)?d:a<b?b:a>c?c:a}function e(e,g){for(var b={},c=1,d,a;4>c;c++)if(d=e["wave"+c],d)for(a in d)!isNaN(d[a])&&a in f&&(b[f[a]+c]=d[a]);if(g)for(a in n)a in b||(b[a]=0);return b}function c(ah,p){var az,q,I,aS,aD,ai,aQ,ar,$,X,af,H,D,B,A,C,ap,aq,aB,aM,aK,F,S,L,aA,aO,ae,ay,aF,aT,aC,aR,U,v,x,t,aa,G,M,s,ao,aj,ak,al,am,W,r,O,N,n,J,K,ac,aE,Y,P,ab,y,z,w,ag,aw,u,aG,aH,aI,Q,R,V,an,at,au,aL,E,av,_,Z,T,aN;function ax(a){a=r.width=W.clientWidth;var b=r.height=W.clientHeight;aB&&(av=b/a>aN?a/aM:b/aK),T&&(_=D+A*a,Z=B+C*b)}function aU(b,c,a){return a=am/(al+a),{x:a*b,y:a*c,alpha:1>a?a*a:1,scale:a}}function aV(){var a,d,g,c,h,i,e,f,b;ab=Math.sqrt(K*K+J*J),y=K/ab||1e-4,z=-J/ab||1e-4,Y=Math.sin(n.angle),P=Math.cos(n.angle),c=[[y*y+z*z*P,y*z*(1-P),z*Y],[y*z*(1-P),z*z+y*y*P,-y*Y],[-z*Y,y*Y,(y*y+z*z)*P]],e=w,f=[];for(b=0;3>b;b++)for(f[b]=[],a=0;3>a;a++)f[b][a]=c[b][0]*e[0][a]+c[b][1]*e[1][a]+c[b][2]*e[2][a];w=f,r.width=r.width,O.fillStyle=aq,T?O.translate(r.width/2+_,r.height/2+Z):O.translate(r.width/2,r.height/2),aB&&O.scale(av,av);for(f=ar;f--;)for(c=f/ar*ai-aQ,b=e=Math.round(ar*Math.cos(c)*2);b--;)a=b/e*2*ai-ai,g=($+n.amp1*Math.sin(n.freq1*c+n.pha1))*Math.cos(c)*Math.cos(a),h=($+n.amp2*Math.sin(n.freq2*a+n.pha2))*Math.cos(c)*Math.sin(a),i=($+n.amp3*Math.sin(n.freq3*c+n.pha3))*Math.sin(c),a=w[0][0]*g+w[0][1]*h+w[0][2]*i,d=w[1][0]*g+w[1][1]*h+w[1][2]*i,g=w[2][0]*g+w[2][1]*h+w[2][2]*i,a=aU(a,d,g),d=ap*a.scale,O.globalAlpha=a.alpha,0<d&&O.fillRect(a.x,a.y,d,d)}function aP(a){var b=r.getBoundingClientRect();return{x:a.clientX-b.left-_,y:a.clientY-b.top-Z}}function aJ(a){au=(new Date).getTime(),au-aL>1e3/aS&&(u=aP(a),Q=u.x-an,R=u.y-at,V=Math.sqrt(Q*Q+R*R),ag=Math.sqrt((u.x-r.width/2)*(u.x-r.width/2)+(u.y-r.height/2)*(u.y-r.height/2)),V&&ag<S&&(aw=ag<F?1:(S-ag)/(S-F),Math.abs(Math.acos((Q*aG+R*aH)/(aI*V)))>Math.PI/2&&(ac*=-1),Math.min(V,aD)*L*aw>Math.abs(n.angle)&&(aE.stop(),n.angle=ac*Math.min(V,aD)*L*aw,J=ac*Q,K=ac*R,aE=h.run(n,{angle:ac*af},b.powOut(3),aA,N)),aG=Q,aH=R,aI=V),an=u.x,at=u.y,aL=au)}function ad(a){document.removeEventListener("mousemove",ad),u=aP(a),an=u.x,at=u.y,document.addEventListener("mousemove",aJ)}if(az=document.getElementById(ah),az){if(c.instances[ah]&&c.instances[ah].destroy(),c.instances[ah]=this,p||(p={}),q=Number.POSITIVE_INFINITY,I=Number.NEGATIVE_INFINITY,aS=30,aD=100,ai=Math.PI,aQ=ai/2,ar="DETALIZATION"in p?a(p.DETALIZATION,60,1,q):a(p.DETALISATION,60,1,q),$=a(p.BLOB_SIZE,220,1,q),X=a(p.BLOB_DISTANCE,1e3,0,q),af=a(p.ROTATION_SPEED,5,0,q)/1e3,H=a(p.PERSPECTIVE_DISTORTION,1,.001,q),D=a(p.OFFSET_X,0,I,q),B=a(p.OFFSET_Y,0,I,q),A=a(p.PERCENTAGE_OFFSET_X,0,I,q)/100,C=a(p.PERCENTAGE_OFFSET_Y,0,I,q)/100,ap=a(p.DOT_SIZE,2,0,q),aq=p.DOT_COLOR||"black",aB=p.AUTO_SCALE,aM=a(p.VIEWPORT_WIDTH,800,100,q),aK=a(p.VIEWPORT_HEIGHT,800,100,q),F=a(p.MOUSE_DISTANCE_MIN,20,0,q),S=a(p.MOUSE_DISTANCE_MAX,F+400,F+.001,q),L=a(p.MOUSE_SENSITIVITY,1,0,q)/1e3,aA=1e3*a(p.INERTIAL_TIME,2,0,q),aO=p.INITIAL_SHAPE||{wave1:{amplitude:70,frequency:3,phase:0},wave2:{amplitude:60,frequency:2,phase:0},wave3:{amplitude:50,frequency:2,phase:0}},ae=p.USE_MORPHING,ay=p.USE_WAVE_MOTION,aF=p.USE_WAVE_SWING,aT=!("MORPHING_AUTOPLAY"in p)||p.MORPHING_AUTOPLAY,aC=a(p.MORPHING_DURATION,2,0,q),aR=a(p.MORPHING_DELAY,1,0,q),U=p.MORPHING_TRANSITION_TYPE||"cubic",v=p.MORPHING_SHAPES||[],ay&&ae&&v.length)for(x=1;4>x;x++)if(p["WAVE_"+x+"_MOTION_SPEED"])for(t=v.length;t--;)aa=v[t]["wave"+x],aa&&"phase"in aa&&delete aa.phase;if(aF)for(x=1;4>x;x++)if(G=p["WAVE_"+x+"_SWING_SETTINGS"],G){for(M in G)if(s=G[M],s){if(ae)for(t=v.length;t--;)(aa=v[t]["wave"+x])&&M in aa&&delete aa[M];"type"in s&&(s.wave=(typeof s.type=="function"?s.type:m[s.type])||d.sin,delete s.type),"amplitude"in s&&isNaN(s.amplitude)&&delete s.amplitude,"frequency"in s&&isNaN(s.frequency)&&delete s.frequency,"phase"in s&&isNaN(s.phase)&&delete s.phase}G.phase&&ay&&(p["WAVE_"+x+"_MOTION_SPEED"]=0)}if(ao=p.WAVE_1_MOTION_SPEED,aj=p.WAVE_2_MOTION_SPEED,ak=p.WAVE_3_MOTION_SPEED,al=X/H,am=1e3/H,W=function(){var a=document.createElement("div");return g.set(a,{position:"relative",width:"100%",height:"100%",top:0,left:0,margin:0,userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",userDrag:"none",WebkitUserDrag:"none",overflow:"hidden",cursor:"default"}),a.setAttribute("unselectable","on"),az.appendChild(a),a}(),r=function(){var a=document.createElement("canvas");return g.set(a,{position:"absolute",width:"100%",height:"100%",top:0,left:0,margin:0}),W.appendChild(a),a}(),O=r.getContext("2d"),N=new k,n=function(){var b={set:function(a){for(var b in a)this[b]=a[b]},angle:af},c=e(aO,!0),a;for(a in c)b[a]=c[a];return b}(),J=5,K=5,ac=1,aE={stop:function(){}},Y=Math.sin(n.angle),P=Math.cos(n.angle),ab=Math.sqrt(K*K+J*J),y=K/ab,z=-J/ab,w=[[1,0,0],[0,1,0],[0,0,1]],aG=0,aH=0,aI=0,aL=(new Date).getTime(),_=0,Z=0,T=D||B||A||C,aN=aK/aM,this.resize=function(){ax()},this.destroy=function(){c.instances[ah]=null,N.removeAllListeners(),E&&E.clear(),window.removeEventListener("resize",ax),document.removeEventListener("mousemove",ad),document.removeEventListener("mousemove",aJ),W.removeChild(r),az.removeChild(W),az=ah=p=q=aS=aD=ai=aQ=ar=$=af=H=ap=aq=F=S=L=aA=aO=ae=ay=aF=aB=aM=aK=aT=aC=aR=U=v=ao=aj=ak=X=al=am=D=B=A=C=W=r=O=N=n=J=K=ac=aE=Y=P=ab=y=z=w=ag=aw=u=aG=aH=aI=Q=R=V=an=at=au=aL=E=aN=av=ax=aU=aV=aP=aJ=ad=T=_=Z=null;for(M in this)delete this[M];this.resize=this.destroy=this.morphTo=function(){}},this.morphTo=function(a){if(ae&&v.length){var b;a&&typeof a=="object"?b=a:!isNaN(a)&&0<=a&&a<v.length&&!(a-Math.floor(a))&&(b=v[a]),b&&h.run(n,e(b),typeof U=="function"?U:i[U],1e3*aC,N)}},Object.defineProperties(this,{blobSize:{get:function(){return $},set:function(b){$=a(b,220,1,q)},configurable:!0},blobDistance:{get:function(){return X},set:function(b){X=a(b,1e3,0,q),al=X/H,am=1e3/H},configurable:!0},rotationSpeed:{get:function(){return af},set:function(b){n.angle=af=a(b,5,0,q)/1e3},configurable:!0},perspectiveDistortion:{get:function(){return H},set:function(b){H=a(b,1,.001,q),al=X/H,am=1e3/H},configurable:!0},offsetX:{get:function(){return D},set:function(b){T=(D=a(b,0,I,q))||B||A||C,_=D+A*r.width},configurable:!0},offsetY:{get:function(){return B},set:function(b){B=a(b,0,I,q),T=D||B||A||C,Z=B+C*r.height},configurable:!0},percentageOffsetX:{get:function(){return 100*A},set:function(b){A=a(b,0,I,q)/100,T=D||B||A||C,_=D+A*r.width},configurable:!0},percentageOffsetY:{get:function(){return 100*C},set:function(b){C=a(b,0,I,q)/100,T=D||B||A||C,Z=B+C*r.height},configurable:!0},dotSize:{get:function(){return ap},set:function(b){ap=a(b,2,0,q)},configurable:!0},dotColor:{get:function(){return aq},set:function(a){aq=a||"black"},configurable:!0},mouseDistanceMin:{get:function(){return F},set:function(b){F=a(b,20,0,S-1e-4)},configurable:!0},mouseDistanceMax:{get:function(){return S},set:function(b){S=a(b,F+400,F+.001,q)},configurable:!0},mouseSensitivity:{get:function(){return L},set:function(c){var b=L;(L=a(c,1,0,q)/1e3)&&!b?document.addEventListener("mousemove",ad):b&&!L&&(document.removeEventListener("mousemove",ad),document.removeEventListener("mousemove",aJ))},configurable:!0},inertialTime:{get:function(){return aA},set:function(b){aA=1e3*a(b,2,0,q)},configurable:!0},wave1Amplitude:{get:function(){return n.amp1},set:function(a){n.amp1=a},configurable:!0},wave2Amplitude:{get:function(){return n.amp2},set:function(a){n.amp2=a},configurable:!0},wave3Amplitude:{get:function(){return n.amp3},set:function(a){n.amp3=a},configurable:!0},wave1Frequency:{get:function(){return n.freq1},set:function(a){n.freq1=a},configurable:!0},wave2Frequency:{get:function(){return n.freq2},set:function(a){n.freq2=a},configurable:!0},wave3Frequency:{get:function(){return n.freq3},set:function(a){n.freq3=a},configurable:!0},wave1Phase:{get:function(){return n.pha1},set:function(a){n.pha1=a},configurable:!0},wave2Phase:{get:function(){return n.pha2},set:function(a){n.pha2=a},configurable:!0},wave3Phase:{get:function(){return n.pha3},set:function(a){n.pha3=a},configurable:!0}}),window.addEventListener("resize",ax),ax(),ae&&aT&&v.length){E=new o,E.delay=aR,t=0;for(G=v.length;t<G;t++)E.addTween(n,e(v[t]),typeof U=="function"?U:i[U],aC,N);E.addQueue(E),E.run()}if(ay&&(t=function(){var a={},b=0;return ao&&!isNaN(ao)&&(a.pha1=ao,b++),aj&&!isNaN(aj)&&(a.pha2=aj,b++),ak&&!isNaN(ak)&&(a.pha3=ak,b++),b?new l(n,a,N):0}())&&t.play(),aF)for(t=1;4>t;t++)if(G=p["WAVE_"+t+"_SWING_SETTINGS"])for(M in G)(x=f[M])&&new j(n,x+t,G[M],N).play();N.addListener(aV),L&&document.addEventListener("mousemove",ad)}else alert("BlobAnimation ERROR: There is no element with the specified id")}var k=jsband.Metronome,b=jsband.Ease,h=jsband.Tween,g=jsband.CssProp,o=jsband.Queue,j=jsband.Swing,d=jsband.Wave,l=jsband.Motion,i={linear:b.lin(),quad:b.pow(2),cubic:b.pow(3),quart:b.pow(4),quint:b.pow(5),circ:b.circ(),sine:b.sin(),expo:b.exp(),elastic:b.osc2Out(),bounce:b.bncOut(),back:b.backOut()},m={sine:d.sin,linear:d.triangle,pulse:d.pulse},n={amp1:1,freq1:1,pha1:1,amp2:1,freq2:1,pha2:1,amp3:1,freq3:1,pha3:1},f={amplitude:"amp",frequency:"freq",phase:"pha"};c.instances={},window.BlobAnimation=c})()})()